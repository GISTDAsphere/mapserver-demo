<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>Map Server Demo | sphere Map</title>
    <style type="text/css">
        /* สร้างแผนที่เต็มหน้าจอ */
        html {
            height: 100%;
        }

        body {
            margin: 0px;
            height: 100%;
        }

        #map {
            height: 100%;
        }
    </style>
    <script type="text/javascript" src="https://api.sphere.gistda.or.th/map/?key=test2022"></script>
    <script>
        var map;
        var marker = new sphere.Marker ({ lon: 100.56, lat: 13.74}, {title: "HEY", detail : "This is detail", draggable: true });

        var wms_layer = new sphere.Layer('bluemarble_terrain', {
            type: sphere.LayerType.WMS,
            url: "https://ms.longdo.com/mapproxy/service",
            zoomRange: { min: 1, max: 9 },
            refresh: 180
        });

	   	var wmts_layer = new sphere.Layer("bluemarble_terrain", {
      		type: sphere.LayerType.WMTS_REST,
      		url: 'https://ms.longdo.com/mapproxy/wmts',
      		srs: 'GLOBAL_WEBMERCATOR',
      		tileMatrix: (z) => "EPSG:900913:" + z
       });

	    var airports = new sphere.Layer("airports", {
      		type: sphere.LayerType.WMS,
      		url: 'http://localhost/mapproxy/service',
            zoomRange: { min: 1, max: 9 },
       });

/*
	   var hillshade = new sphere.Layer("Hillshade", {
      		type: sphere.LayerType.WMS,
      		url: 'http://localhost/mapproxy/service',
            zoomRange: { min: 1, max: 9 },
       });
*/

	   var hillshade = new sphere.Layer("Hillshade", {
      		type: sphere.LayerType.WMTS_REST,
      		url: 'http://localhost/mapproxy/wmts',
      		srs: 'osm_grid',
      		tileMatrix: (z) => "EPSG:900913:" + z
       });

	   var srtm = new sphere.Layer("SRTM", {
      		type: sphere.LayerType.WMTS_REST,
      		url: 'http://localhost/mapproxy/wmts',
      		srs: 'osm_grid',
      		tileMatrix: (z) => "EPSG:900913:" + z
       });

       function init() {
            map = new sphere.Map({
                placeholder: document.getElementById('map'),
                zoom: 3 
            });

            map.Event.bind(sphere.EventName.Ready, function (overlay) {
                //map.Layers.insert('', wmts_layer);
                map.Layers.add(srtm);
                //map.Layers.add(hillshade);
                map.Layers.add(airports);

                map.location({ lon: 100.510847, lat: 13.743757 });
                map.Overlays.add(marker);
                map.location({ lon: 100.56, lat: 13.74 }, false);
           });
        }
    </script>
</head>

<body onload="init();">
    <div id="map"></div>
</body>

</html>
